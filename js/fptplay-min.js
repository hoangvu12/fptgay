class FPTPlay{constructor(){this.api_token="WEBv6Dkdsad90dasdjlALDDDS",this.suffix="/api/v6.2_w/",this.api_url="https://api.fptplay.net/api/v6.2_w/"}getUrl(b,c=null){c||(c={}),"/"===b[0]&&(b=b.slice(1));var d=-1==b.indexOf("?")?b:b.substr(0,b.indexOf("?")),a=Math.floor(new Date().getTime())+10800,f=this.api_token+a+this.suffix+d,g=second(first(f)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");const h=`${serialize(c)}&`;return`${this.api_url}${b}?${h}st=${g}&e=${a}&device=Chrome(version:84)`}async getVideoSource(a){let{id:b,episode:c,quality:d}=a;c||(c=1),d||(d="auto_vip"),c=+(c-1);const e=`stream/vod/${b}/${c}/${d}`,f=this.getUrl(e),g=await fetch(f),h=await g.json(),i=h.data.url;return i}async search(a){const b=this.getUrl("search/vod/all",{query_str:a,per_page:24,page:1}),c=await fetch(b),d=await c.json();return d.result}}function first(b){var e,j,k,q,w,x,z,A,B,C,D,E=function(a,b){return a<<b|a>>>32-b},h=function(b,c){var d,e,f,g,h;return f=2147483648&b,g=2147483648&c,h=(1073741823&b)+(1073741823&c),(d=1073741824&b)&(e=1073741824&c)?2147483648^h^f^g:d|e?1073741824&h?3221225472^h^f^g:1073741824^h^f^g:h^f^g},f=function(b,c,d,f,g,a,i){return b=h(b,h(h(function(a,b,c){return a&b|~a&c}(c,d,f),g),i)),h(E(b,a),c)},p=function(b,c,d,f,g,a,i){return b=h(b,h(h(function(a,b,c){return a&c|b&~c}(c,d,f),g),i)),h(E(b,a),c)},m=function(b,c,d,f,g,a,i){return b=h(b,h(h(function(a,b,c){return a^b^c}(c,d,f),g),i)),h(E(b,a),c)},v=function(b,c,d,f,g,a,i){return b=h(b,h(h(function(a,b,c){return b^(a|~c)}(c,d,f),g),i)),h(E(b,a),c)},g=function(a){var b,c="",d="";for(b=0;3>=b;b++)c+=(d="0"+(255&a>>>8*b).toString(16)).substr(d.length-2,2);return c};for(A=1732584193,B=4023233417,C=2562383102,D=271733878,e=(j=function(b){for(var c,d=b.length,e=d+8,f=16*((e-e%64)/64+1),a=Array(f-1),g=0,h=0;h<d;)g=8*(h%4),a[c=(h-h%4)/4]=a[c]|b.charCodeAt(h)<<g,h++;return g=8*(h%4),a[c=(h-h%4)/4]=a[c]|128<<g,a[f-2]=d<<3,a[f-1]=d>>>29,a}(b)).length,k=0;k<e;k+=16)q=A,w=B,x=C,z=D,B=v(B=v(B=v(B=v(B=m(B=m(B=m(B=m(B=p(B=p(B=p(B=p(B=f(B=f(B=f(B=f(B,C=f(C,D=f(D,A=f(A,B,C,D,j[k+0],7,3614090360),B,C,j[k+1],12,3905402710),A,B,j[k+2],17,606105819),D,A,j[k+3],22,3250441966),C=f(C,D=f(D,A=f(A,B,C,D,j[k+4],7,4118548399),B,C,j[k+5],12,1200080426),A,B,j[k+6],17,2821735955),D,A,j[k+7],22,4249261313),C=f(C,D=f(D,A=f(A,B,C,D,j[k+8],7,1770035416),B,C,j[k+9],12,2336552879),A,B,j[k+10],17,4294925233),D,A,j[k+11],22,2304563134),C=f(C,D=f(D,A=f(A,B,C,D,j[k+12],7,1804603682),B,C,j[k+13],12,4254626195),A,B,j[k+14],17,2792965006),D,A,j[k+15],22,1236535329),C=p(C,D=p(D,A=p(A,B,C,D,j[k+1],5,4129170786),B,C,j[k+6],9,3225465664),A,B,j[k+11],14,643717713),D,A,j[k+0],20,3921069994),C=p(C,D=p(D,A=p(A,B,C,D,j[k+5],5,3593408605),B,C,j[k+10],9,38016083),A,B,j[k+15],14,3634488961),D,A,j[k+4],20,3889429448),C=p(C,D=p(D,A=p(A,B,C,D,j[k+9],5,568446438),B,C,j[k+14],9,3275163606),A,B,j[k+3],14,4107603335),D,A,j[k+8],20,1163531501),C=p(C,D=p(D,A=p(A,B,C,D,j[k+13],5,2850285829),B,C,j[k+2],9,4243563512),A,B,j[k+7],14,1735328473),D,A,j[k+12],20,2368359562),C=m(C,D=m(D,A=m(A,B,C,D,j[k+5],4,4294588738),B,C,j[k+8],11,2272392833),A,B,j[k+11],16,1839030562),D,A,j[k+14],23,4259657740),C=m(C,D=m(D,A=m(A,B,C,D,j[k+1],4,2763975236),B,C,j[k+4],11,1272893353),A,B,j[k+7],16,4139469664),D,A,j[k+10],23,3200236656),C=m(C,D=m(D,A=m(A,B,C,D,j[k+13],4,681279174),B,C,j[k+0],11,3936430074),A,B,j[k+3],16,3572445317),D,A,j[k+6],23,76029189),C=m(C,D=m(D,A=m(A,B,C,D,j[k+9],4,3654602809),B,C,j[k+12],11,3873151461),A,B,j[k+15],16,530742520),D,A,j[k+2],23,3299628645),C=v(C,D=v(D,A=v(A,B,C,D,j[k+0],6,4096336452),B,C,j[k+7],10,1126891415),A,B,j[k+14],15,2878612391),D,A,j[k+5],21,4237533241),C=v(C,D=v(D,A=v(A,B,C,D,j[k+12],6,1700485571),B,C,j[k+3],10,2399980690),A,B,j[k+10],15,4293915773),D,A,j[k+1],21,2240044497),C=v(C,D=v(D,A=v(A,B,C,D,j[k+8],6,1873313359),B,C,j[k+15],10,4264355552),A,B,j[k+6],15,2734768916),D,A,j[k+13],21,1309151649),C=v(C,D=v(D,A=v(A,B,C,D,j[k+4],6,4149444226),B,C,j[k+11],10,3174756917),A,B,j[k+2],15,718787259),D,A,j[k+9],21,3951481745),A=h(A,q),B=h(B,w),C=h(C,x),D=h(D,z);return(g(A)+g(B)+g(C)+g(D)).toLowerCase()}function second(b){var c=function(a,b){a=a.toUpperCase(),b&&(a=a.replace(/0x/gi,""));var c=a;return a=a.replace(/[^A-Fa-f0-9]/g,""),c!=a&&console.log("Warning! Non-hex characters in input string ignored."),a}(b,!0);if(!(c.length%2)){for(var d,e=[],f=0;f<c.length/2;f++)d=c.substr(2*f,2),e[f]=parseInt(d,16);return function(b){for(var c=[],d=0,e=0,f=[,,,],g=[,,,,],h=b.length,i=0;h--;)f[d++]=b[i++];if(d){for(e=d;3>e;e++)f[e]=0;for(g[0]=(252&f[0])>>2,g[1]=((3&f[0])<<4)+((240&f[1])>>4),g[2]=((15&f[1])<<2)+((192&f[2])>>6),g[3]=63&f[2],e=0;"1">e;e++)c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g[e]);for(;3>d++;)c+="="}return c}(e)}}